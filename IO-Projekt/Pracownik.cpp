//
//
//  Generated by StarUML(tm) C++ Add-In
//
//  @ Project : Untitled
//  @ File Name : Pracownik.cpp
//  @ Date : 05.05.2025
//  @ Author : 
//
//


#include "Pracownik.h"

Pracownik::Pracownik(){}

void Pracownik::aktualizuj_katalog() 
{
	auto katalog = std::dynamic_pointer_cast<KatalogDlaPracownikow>(Katalog::pobierzInstancje());
    katalog->dodaj_pokoj(); //tymczasowe
    katalog->dodaj_usluge(); //tymczasowe
}

void Pracownik::przegladaj_katalog() 
{
    auto katalog = std::dynamic_pointer_cast<KatalogDlaPracownikow>(Katalog::pobierzInstancje());
}

void Pracownik::gui() {
	system("cls");
	//system("clear");
    int a;
    do {
        auto para = Wiadomosc::odczytaj_wiadomosci(this->login);
        this->wyslane_wiadomosci = para.first;
        this->odebrane_wiadomosci = para.second;
        std::cout << "1. Pokaz katalog.\n2. Aktualizuj katalog.\n3. Wyslij wiadomosc.\n4. Zobacz wyslane wiadomosci.\n5. Zobacz odebrane wiadomosci.\n6. Wyloguj sie.\n";
        std::cin >> a;
        if (std::cin.fail()) {
            std::cin.clear();
            std::cin.ignore(1000, '\n');
        }
        if (a == 1) {
            przegladaj_katalog();
        }
        if (a == 2) {
            aktualizuj_katalog();
        }
        if (a == 3) {
            wyslij_wiadomosc();
        }
        if (a == 4) {
            przegladaj_wyslane_wiadomosci();
        }
        if (a == 5) {
            przegladaj_odebrane_wiadomosci();
        }
        if (a == 6) {
            wyloguj();
            break;
        }
    } while (true);
}

